---
title: "Gov 50 Final Project"
author: Jada Pierre
description: "My final project"
output:
  distill::distill_article:
    self_contained: false
---
## Introduction

I am interested in exploring data from the American Community Survey from the U.S. Census revolving around the citizen voting age population and race and ethnicity. The data set includes information regarding U.S. states, more specifically racial demographics and within it, who is eligible to vote. My research question is as follows: What is the relationship between the Latinos and Asians who are able to vote?

## Data and Research Design

My final project will be a longitudinal observational study. To investigate the relationship, my explanatory variable is the proportion of Latinos that can vote. My outcome variable is the proportion of Asians that can vote. Lastly, my control variables are the total amount of Latinos in the states and the total amount of Asians in the states.

here are the definitions of the following variables I will use:

CVAP_prop_Latino: The proportion of Latinos that are United States citizens 18 years of age or older that can vote.
CVAP_prop_Asian: The proportion of Asians that are United States citizens 18 years of age or older that can vote.

```{r}
library(tidyverse)
library(dbplyr)
state <- read.csv("state.csv") |>
  select(!ends_with("MOE"),
         -GEOID, -LNNUMBER) |>
  filter(LNTITLE %in% c("Hispanic or Latino", "Asian Alone")) |>
  mutate(LNTITLE = case_when(LNTITLE == "Hispanic or Latino" ~ "Latino",
                             LNTITLE == "Asian Alone" ~ "Asian"))
```

```{r}
cvap_data <- state |>
  pivot_wider(
    names_from = LNTITLE,
    values_from = c(TOT_EST, ADU_EST, CIT_EST, CVAP_EST)
  ) |>
  mutate(CVAP_prop_Latino = CVAP_EST_Latino/TOT_EST_Latino,
         CVAP_prop_Asian = CVAP_EST_Asian/TOT_EST_Asian,
         ADU_prop_Latino = ADU_EST_Latino/TOT_EST_Latino,
         ADU_prop_Asian = ADU_EST_Asian/TOT_EST_Asian,
         NONCIT_prop_Latino = (TOT_EST_Latino - CIT_EST_Latino)/TOT_EST_Latino,
         NONCIT_prop_Asian = (TOT_EST_Asian - CIT_EST_Asian)/TOT_EST_Asian)
```

### Distribution Plot

```{r}
cvap_data |>
  ggplot(aes(x = CVAP_prop_Asian)) +
  geom_histogram(fill = "lightpink1") +
  labs(x = "Proportion of Asians that Can Vote",
       y = "Count",
       title = "Distribution Plot of Porportion of Asians that Can Vote")
```

## Results

### Plot Summary

```{r}
cvap_data |>
  ggplot(aes(x = CVAP_prop_Latino,
                     y = CVAP_prop_Asian)) +
  geom_point() +
  geom_smooth(color = "pink") +
  labs(x = "Total Proportion of Latinos that Can Vote",
       y = "Total Proportion of Asians that Can Vote",
       title = "Relationship Between Latinos and Asians that Can Vote")
```

### Regression Results

```{r}
regresults <- summary(lm(CVAP_prop_Asian ~ CVAP_prop_Latino, data = cvap_data))$coefficients
regresults |>
  knitr::kable(digits = 2)
```

### Multiple Regression Results

```{r}
multiregresults <- summary(lm(data = cvap_data, CVAP_prop_Latino ~ ADU_prop_Latino + NONCIT_prop_Latino))$coefficients
multiregresults |>
  knitr::kable(digits = 2)
```

### Statistical Significance


## Conclusion